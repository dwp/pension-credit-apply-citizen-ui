{
  "name": "apply-citizen-ui",
  "version": "2.0.2",
  "description": "Citizen UI to apply for Pension Credit",
  "main": "server.js",
  "engines": {
    "node": ">12.0.0"
  },
  "files": [
    "akamai-dist/**/*",
    "bootstrap/**/*",
    "definitions/**/*",
    "lib/**/*",
    "locales/**/*",
    "middleware/**/*",
    "public/**/*",
    "routes/**/*",
    "utils/**/*",
    "view-filters/**/*",
    "views/**/*",
    "app.js",
    "server.js"
  ],
  "scripts": {
    "start": "node server.js",
    "pipeline": "npm run test && npm run quality && npm run compliance && npm run security",
    "compliance": "npm run compliance:lint && npm run compliance:lint-docker",
    "compliance:lint": "eslint .",
    "compliance:lint-docker": "docker run --rm -i hadolint/hadolint < docker/Dockerfile",
    "test": "npm run test:unit",
    "test:unit": "mocha --exclude 'tests/integration/**/*' --exclude 'tests/plan/**/*' 'tests/**/*.test.js'",
    "test:integration": "mocha 'tests/integration/**/*.test.js'",
    "test:plan": "mocha 'tests/plan/**/*.test.js'",
    "quality": "npm run quality:coverage",
    "quality:coverage": "nyc mocha --exclude 'tests/integration/**/*.test.js' --exclude 'tests/plan/**/*' 'tests/**/*.test.js'",
    "security": "npm run security:audit && npm run security:outdated",
    "security:audit": "npm audit --json --registry 'https://registry.npmjs.org/' | node -e 'a=JSON.parse(fs.readFileSync(\"/dev/stdin\",\"utf-8\")).metadata.vulnerabilities;process.exit(a.high+a.critical);'",
    "security:outdated": "npm outdated",
    "build:akamai": "mkdir -p akamai-dist/ && node ./tools/build-akamai-assets.js akamai/error.njk > akamai-dist/error.html; node ./tools/build-akamai-assets.js akamai/maintenance.njk > akamai-dist/maintenance.html",
    "graphviz": "mkdir -p graphviz/ && node --preserve-symlinks tools/graphviz.js > graphviz/graph.dot && docker run -it --rm -v $(pwd)/graphviz:/data risaacson/graphviz:latest dot -Tpng /data/graph.dot -o /data/graph.png",
    "upgrade-deps": "OD=$(npm outdated --long --parseable); echo \"$OD\" | grep ':devDependencies:' | awk -F: '{ print $4 }' | xargs npm i -DE; echo \"$OD\" | grep ':dependencies:' | awk -F: '{ print $4 }' | xargs npm i -E"
  },
  "keywords": [],
  "author": "DWP <open-source@engineering.digital.dwp.gov.uk>",
  "license": "ISC",
  "repository": {
    "type": "git",
    "url": "git@github.com:dwp/pension-credit-citizen-apply"
  },
  "dependencies": {
    "@aws-crypto/client-node": "1.0.5",
    "@dwp/govuk-casa": "6.6.1",
    "connect-redis": "5.0.0",
    "cookie-parser": "1.4.5",
    "dotenv": "8.2.0",
    "express": "4.17.1",
    "express-session": "1.17.1",
    "get-state-pension-date": "1.0.2",
    "got": "11.5.1",
    "ioredis": "4.17.3",
    "moment": "2.27.0",
    "nunjucks": "3.2.2",
    "pino": "6.5.0",
    "pino-debug": "1.3.0",
    "prom-client": "12.0.0",
    "response-time": "2.3.2",
    "secure-json-parse": "2.1.0",
    "uuid": "8.3.0"
  },
  "devDependencies": {
    "@commitlint/cli": "9.1.2",
    "@commitlint/config-conventional": "9.1.1",
    "@dwp/commitlint-config-base": "1.1.0",
    "@dwp/eslint-config-base": "4.1.0",
    "babel-eslint": "10.1.0",
    "chai": "4.2.0",
    "chai-as-promised": "7.1.1",
    "cheerio": "1.0.0-rc.3",
    "conventional-changelog-cli": "2.0.34",
    "eslint": "7.6.0",
    "eslint-plugin-sonarjs": "0.5.0",
    "graphlib": "2.1.8",
    "graphlib-dot": "0.6.4",
    "husky": "4.2.5",
    "mocha": "8.1.0",
    "nyc": "15.1.0",
    "pino-pretty": "4.1.0",
    "proxyquire": "2.1.3",
    "sinon": "9.0.2",
    "sinon-chai": "3.5.0",
    "supertest": "4.0.2",
    "tough-cookie": "4.0.0",
    "yaml": "1.10.0"
  }
}
