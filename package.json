{
  "name": "apply-citizen-ui",
  "version": "9.0.0",
  "description": "Citizen UI to apply for Pension Credit",
  "main": "server.js",
  "engines": {
    "node": ">12.0.0"
  },
  "files": [
    "akamai-dist/**/*",
    "bootstrap/**/*",
    "definitions/**/*",
    "dist/**/*",
    "lib/**/*",
    "locales/**/*",
    "middleware/**/*",
    "routes/**/*",
    "utils/**/*",
    "view-filters/**/*",
    "views/**/*",
    "app.js",
    "server.js"
  ],
  "scripts": {
    "start": "node server.js",
    "prepare": "npm run build",
    "pipeline": "npm run test && npm run quality && npm run compliance && npm run security",
    "build": "npm run build:clean && npm run build:js && npm run build:html5shiv && npm run build:scss && npm run build:scss-ie8",
    "build:js": "rollup -c",
    "build:html5shiv": "cp ./node_modules/html5shiv/dist/html5shiv.min.js ./dist/js",
    "build:scss": "sass assets/all.scss -I node_modules --no-source-map | postcss -o dist/css/apply-citizen-ui.css",
    "build:scss-ie8": "sass assets/all-ie8.scss -I node_modules --no-source-map | IE8=true postcss -o dist/css/apply-citizen-ui-ie8.css",
    "build:clean": "node ./tools/build-clean.js",
    "compliance": "npm run compliance:lint && npm run compliance:lint-docker",
    "compliance:lint": "eslint .",
    "compliance:lint-docker": "docker run --rm -i hadolint/hadolint < docker/Dockerfile",
    "test": "npm run test:unit",
    "test:unit": "mocha --exclude 'tests/integration/**/*' --exclude 'tests/plan/**/*' 'tests/**/*.test.js'",
    "test:integration": "mocha 'tests/integration/**/*.test.js'",
    "test:plan": "mocha 'tests/plan/**/*.test.js'",
    "quality": "npm run quality:coverage",
    "quality:coverage": "nyc mocha --exclude 'tests/integration/**/*.test.js' --exclude 'tests/plan/**/*' 'tests/**/*.test.js'",
    "security": "npm run security:audit && npm run security:outdated",
    "security:audit": "npm audit --json --registry 'https://registry.npmjs.org/' | node -e 'a=JSON.parse(fs.readFileSync(\"/dev/stdin\",\"utf-8\")).metadata.vulnerabilities;process.exit(a.high+a.critical);'",
    "security:outdated": "npm outdated",
    "build:akamai": "mkdir -p akamai-dist/ && node ./tools/build-akamai-assets.js akamai/error.njk > akamai-dist/error.html; node ./tools/build-akamai-assets.js akamai/maintenance.njk > akamai-dist/maintenance.html",
    "graphviz": "mkdir -p graphviz/ && node --preserve-symlinks tools/graphviz.js > graphviz/graph.dot && docker run -it --rm -v $(pwd)/graphviz:/data risaacson/graphviz:latest dot -Tpng /data/graph.dot -o /data/graph.png",
    "upgrade-deps": "OD=$(npm outdated --long --parseable); echo \"$OD\" | grep ':devDependencies:' | awk -F: '{ print $4 }' | xargs npm i -DE; echo \"$OD\" | grep ':dependencies:' | awk -F: '{ print $4 }' | xargs npm i -E"
  },
  "keywords": [],
  "author": "DWP <open-source@engineering.digital.dwp.gov.uk>",
  "license": "ISC",
  "repository": {
    "type": "git",
    "url": "git@github.com:dwp/pension-credit-apply-citizen-ui"
  },
  "dependencies": {
    "@aws-crypto/client-node": "1.0.5",
    "@dwp/govuk-casa": "6.8.0",
    "connect-redis": "5.0.0",
    "cookie-parser": "1.4.5",
    "dotenv": "8.2.0",
    "express": "4.17.1",
    "express-session": "1.17.1",
    "get-state-pension-date": "1.0.2",
    "got": "11.8.0",
    "hmrc-frontend": "1.20.0",
    "ioredis": "4.19.2",
    "moment": "2.29.1",
    "nunjucks": "3.2.2",
    "pino": "6.7.0",
    "pino-debug": "1.3.0",
    "prom-client": "12.0.0",
    "@dwp/pension-credit-date-of-claim": "0.2.2",
    "response-time": "2.3.2",
    "secure-json-parse": "2.1.0",
    "uuid": "8.3.1"
  },
  "devDependencies": {
    "@commitlint/cli": "11.0.0",
    "@commitlint/config-conventional": "11.0.0",
    "@dwp/commitlint-config-base": "1.1.0",
    "@dwp/eslint-config-base": "4.1.0",
    "@rollup/plugin-legacy": "2.0.0",
    "@rollup/plugin-node-resolve": "10.0.0",
    "autoprefixer": "10.0.2",
    "babel-eslint": "10.1.0",
    "chai": "4.2.0",
    "chai-as-promised": "7.1.1",
    "cheerio": "1.0.0-rc.3",
    "conventional-changelog-cli": "2.1.1",
    "cssnano": "4.1.10",
    "eslint": "7.13.0",
    "eslint-plugin-sonarjs": "0.5.0",
    "govuk-frontend-src": "https://github.com/alphagov/govuk-frontend.git#v3.9.1",
    "graphlib": "2.1.8",
    "graphlib-dot": "0.6.4",
    "hmrc-frontend-src": "https://github.com/hmrc/hmrc-frontend.git#v1.20.0",
    "html5shiv": "3.7.3",
    "husky": "4.3.0",
    "mocha": "8.2.1",
    "nyc": "15.1.0",
    "oldie": "1.3.0",
    "pino-pretty": "4.3.0",
    "postcss": "8.1.7",
    "postcss-cli": "8.3.0",
    "postcss-url": "10.1.0",
    "proxyquire": "2.1.3",
    "rollup": "2.33.3",
    "rollup-plugin-terser": "7.0.2",
    "sass": "1.29.0",
    "sinon": "9.2.1",
    "sinon-chai": "3.5.0",
    "supertest": "6.0.1",
    "tough-cookie": "4.0.0",
    "yaml": "1.10.0"
  }
}
